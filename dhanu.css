/* Basic page layout */
:root{
  --bg-off: #1b1f28;
  --bg-on: #f3e9c9;
  --shade: #2c343f;
  --bulb-off: #6b6f76;
  --bulb-on: #ffea7a;
  --beam-color: rgba(255,230,120,0.12);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg,var(--bg-off) 0%, #101217 100%);
  color:#e9eef8;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:30px;
}

/* container */
.page{
  text-align:center;
  max-width:520px;
  width:100%;
}

/* Title */
h1{
  margin:0 0 22px;
  font-size:20px;
  letter-spacing:0.2px;
  font-weight:600;
}

/* Hidden checkbox */
.toggle-checkbox{
  position:absolute;
  left:-9999px;
  top:auto;
  width:1px;
  height:1px;
  overflow:hidden;
  clip:rect(0 0 0 0);
}

/* switch (label) */
.switch{
  display:inline-block;
  width:62px;
  height:34px;
  border-radius:999px;
  background:linear-gradient(180deg,#2b3038, #1f2328);
  margin-bottom:18px;
  position:relative;
  cursor:pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
  transition:all .25s ease;
}

/* knob */
.switch-knob{
  position:absolute;
  top:50%;
  left:4px;
  transform:translateY(-50%);
  width:26px;
  height:26px;
  border-radius:50%;
  background:#fff;
  box-shadow: 0 3px 8px rgba(0,0,0,0.45);
  transition:all .25s ease;
}

/* scene layout */
.scene{
  margin:18px auto 8px;
  width:320px;
  height:300px;
  position:relative;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  transition: background-color .35s ease;
  pointer-events:none; /* clicks only on switch */
}

/* ceiling bar */
.ceiling{
  position:absolute;
  top:18px;
  left:0;
  right:0;
  height:12px;
  background:linear-gradient(180deg,#23262b,#1a1b1f);
  border-radius:6px;
  box-shadow:0 6px 14px rgba(0,0,0,0.6);
}

/* lamp parts */
.lamp{ position:relative; margin-top:36px; z-index:6; }
.chain{
  width:4px;
  height:68px;
  margin:0 auto;
  background:linear-gradient(180deg,#6b6f76,#2b2f33);
  border-radius:3px;
}
.shade{
  width:160px;
  height:90px;
  margin:0 auto;
  background:linear-gradient(180deg,#263042,#11141a);
  border-radius:6px 6px 80px 80px;
  transform:translateY(4px);
  position:relative;
  box-shadow:0 10px 30px rgba(0,0,0,0.6);
  overflow:hidden;
}
.bulb{
  width:54px;
  height:54px;
  border-radius:50%;
  background:radial-gradient(circle at 40% 30%, var(--bulb-on) 10%, #ffd66f 22%, #ffbd3b 40%, #d49000 60%, #6b6f76 100%);
  position:absolute;
  left:50%;
  top:12px;
  transform:translateX(-50%);
  box-shadow: 0 8px 30px rgba(0,0,0,0.6), 0 0 36px rgba(255,190,20,0.08);
  transition: all .35s ease;
  mix-blend-mode: hard-light;
}

/* light-beam â€” visible when on */
.light-beam{
  position:absolute;
  top:130px;
  left:50%;
  width:360px;
  height:320px;
  transform:translateX(-50%) rotate(0deg);
  background: radial-gradient(ellipse at center, var(--beam-color) 0%, rgba(255,230,120,0.06) 30%, rgba(0,0,0,0) 60%);
  filter: blur(10px);
  opacity:0;
  transition: opacity .35s ease, transform .35s ease;
  z-index:2;
}

/* hint text */
.hint{ font-size:13px; color: #bfc8df; margin-top:12px; }

/* ----- State changes when toggle is checked ----- */
/* move knob to right, give page lighter background, make bulb glow / beam visible */
.toggle-checkbox:checked + .switch{
  background: linear-gradient(180deg,#ffd76f,#ffb95a);
  box-shadow: 0 6px 18px rgba(255,170,40,0.25), inset 0 1px 0 rgba(255,255,255,0.4);
}
.toggle-checkbox:checked + .switch .switch-knob{
  left:calc(100% - 30px);
  background: #fffef6;
  transform:translateY(-50%);
}

/* change page background and bulb color when ON */
.toggle-checkbox:checked ~ .scene ~ .hint,
.toggle-checkbox:checked ~ .scene,
.toggle-checkbox:checked ~ .scene .bulb{
  /* the sibling selectors are used to apply styles to the scene and bulb */
}

/* Light ON visual effects (use two adjacent sibling selectors) */
.toggle-checkbox:checked ~ .scene{
  /* warm background behind the scene */
  background: linear-gradient(180deg, rgba(255,240,190,0.06), rgba(255,240,190,0.02));
  border-radius:12px;
}
.toggle-checkbox:checked ~ .scene .bulb{
  /* brighter bulb and glow */
  background: radial-gradient(circle at 40% 30%, var(--bulb-on) 10%, #fff09a 22%, #ffd66f 40%, #ffb93f 60%, #d49000 100%);
  box-shadow: 0 10px 50px rgba(255,200,60,0.22), 0 0 90px rgba(255,200,40,0.14);
  transform: translateX(-50%) translateY(-2px) scale(1.06);
  mix-blend-mode: screen;
}

/* show the beam */
.toggle-checkbox:checked ~ .scene .light-beam{
  opacity:1;
  transform:translateX(-50%) scaleY(1);
}

/* also change page background to lighter when on */
.toggle-checkbox:checked ~ .scene ~ .hint,
.toggle-checkbox:checked ~ .scene ~ .hint ~ * {}

/* subtle transition for body background when ON (using :has would be ideal but not widely supported) */
/* Instead add a gentle page color change by changing the body gradient via a pseudo-targeting trick: */
.toggle-checkbox:checked ~ .scene {
  outline: none;
}
.toggle-checkbox:checked ~ .scene::before{
  /* small overlay used to fake room light */
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background: linear-gradient(180deg, rgba(255,245,220,0.06), rgba(255,240,200,0.02));
  mix-blend-mode: overlay;
}

/* Responsive */
@media (max-width:420px){
  .scene{ width:92%; height:260px }
  .shade{ width:140px; height:80px }
}
